<template>

    <div class="booking-list-container">



        <Tabs :value="activeTab" @update:value="onTabChange">
            <TabList>
                <Tab :value="0">ÂÖ®ÈÉ®</Tab>
                <Tab :value="1">ÂæÖÁ¢∫Ë™ç ({{ pendingCount }})</Tab>
                <Tab :value="2">È†êÁ¥Ñ‰∏≠ ({{ bookingedCount }})</Tab>
                <Tab :value="3">Â∑≤ÂèñÊ∂à</Tab>
                <Tab :value="4">Â∑≤ÂÆåÊàê</Tab>
            </TabList>
        </Tabs>



        <DataTable :value="filteredBookingList" :rows="5" :rowsPerPageOptions="pageOptions" :sortOrder="-1"
            selectionMode="single" sortField="bookingId" tableStyle="min-width: 100%" stripedRows paginator
            :filters="filters" filterDisplay="row" emptyMessage="ÁõÆÂâçÊ≤íÊúâ‰ªª‰ΩïË≥áÊñôÂèØÈ°ØÁ§∫">

            <template #header>
                <div class="flex flex-wrap items-center justify-between gap-2">
                    <div>
                        <i class="pi pi-search search-icon"></i>
                        <InputText v-model="filters['global'].value" placeholder="ÊêúÂ∞ã" class="search-input" />
                    </div>
                    <Button icon="pi pi-refresh" @click="refresh" rounded raised :loading="loading" />
                </div>
            </template>

            <Column v-for="col of columns" :key="col.field" :field="col.field" :header="col.header"
                :headerStyle="col.headerStyle" :sortable="col.sortable">

                <!-- Ëá™ÂÆöÁæ© 'houseAddress' ÂàóÁöÑÂÖßÂÆπ -->
                <template v-if="col.field === 'houseAddress'" #body="slotProps">
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <!-- Êü•ÁúãÊàøÂ±ãÂÖßÂÆπ -->
                        <Button icon="pi pi-search" class="p-button-rounded p-button-text p-button-info action-button"
                            style="width: 2.5rem; height: 2.5rem;" @click="
                                showHouseView = true;
                            selectedHouseId = slotProps.data.houseId;
                            console.log('Selected House ID:', selectedHouseId);
                            " />
                        <!-- È°ØÁ§∫Âú∞ÂùÄ -->
                        <div>{{ slotProps.data.houseAddress }}</div>
                    </div>
                </template>

                <!-- Ëá™ÂÆöÁæ© 'userName' ÂàóÁöÑÂÖßÂÆπ -->
                <template v-if="col.field === 'userName'" #body="slotProps">
                    <div class="relative inline-block">

                        <!-- ‰∏ªË¶ÅÈ°ØÁ§∫ÁöÑÂßìÂêç -->
                        <div v-if="slotProps.data.userStatus === 1" class=" clickable-name "
                            :class="{ 'active': isPopoverVisible(slotProps.data.bookingId) }"
                            @click="togglePopover(slotProps.data.bookingId)">
                            {{ slotProps.data.userName }}
                        </div>
                        <div v-if="slotProps.data.userStatus === 0">
                            <Tag severity="secondary" value="Â∏≥Êà∂ÂÅúÁî®"></Tag>
                        </div>
                        <div v-if="slotProps.data.userStatus === 2">
                            <Tag severity="secondary" value="Â∏≥Êà∂ÂÅúÊ¨ä"></Tag>
                        </div>

                        <!-- Popover ÂçÄÂ°ä -->
                        <div v-if="isPopoverVisible(slotProps.data.bookingId)" class="popover-content">
                            <div class="flex justify-between items-center">
                                <p>üìß {{ slotProps.data.userEmail }}</p>
                                <Button icon="pi pi-copy" @click="copyToClipboard(slotProps.data.userEmail)"
                                    class="p-button-rounded p-button-text" />
                            </div>
                            <hr />
                            <div class="flex justify-between items-center mt-2">
                                <p>üìû {{ slotProps.data.userPhone }}</p>
                                <Button icon="pi pi-copy" @click="copyToClipboard(slotProps.data.userPhone)"
                                    class="p-button-rounded p-button-text" />
                            </div>
                        </div>

                    </div>
                </template>

                <!-- Ëá™ÂÆöÁæ© 'photos' ÂàóÁöÑÂÖßÂÆπ -->
                <template v-if="col.field === 'photos'" #body="slotProps">
                    <div class="flex items-center justify-center gap-2" style="width: 100%; height: 80px;">
                        <img :src="getPhoto(slotProps.data.photos)" alt="ÊàøÂ±ãÂúñÁâá"
                            style="width: 100%; height: 100%; object-fit: fill;" />
                    </div>
                </template>

                <!-- Ëá™ÂÆöÁæ© 'status' ÂàóÁöÑÂÖßÂÆπ -->
                <template v-if="col.field === 'status'" #body="slotProps">
                    <Tag :value="slotProps.data.Status" :severity=getSeverity(slotProps.data.status)>
                        {{ statusMap[slotProps.data.status] }}
                    </Tag>
                </template>

                <!-- Ëá™ÂÆöÁæ© 'houseAddress' ÂàóÁöÑÂÖßÂÆπ -->
                <template v-if="col.field === 'houseAddress'" #body="slotProps">
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <!-- Ë™øÊï¥ÊåâÈàïÂúñÁ§∫ÂíåÊ®£Âºè -->
                        <Button icon="pi pi-search" class="p-button-rounded p-button-text p-button-info action-button"
                            @click=" showHouseView = true; selectedHouseId = slotProps.data.houseId;"
                            style="width: 2.5rem; height: 2.5rem;" />
                        <!-- È°ØÁ§∫Âú∞ÂùÄÂÖßÂÆπ -->
                        <div>{{ slotProps.data.houseAddress }}</div>
                    </div>
                </template>

                <!-- Ëá™ÂÆöÁæ© 'operate' ÂàóÁöÑÂÖßÂÆπ -->
                <template v-if="col.field === 'operate'" #body="slotProps">
                    <Button v-if="slotProps.data.status === 0" label="Ëôï„ÄÄÁêÜ" severity="info"
                        @click="confirmProcessBooking(slotProps.data)"><i class="bi bi-text-paragraph">Ëôï„ÄÄÁêÜ</i></Button>
                    <Button v-if="slotProps.data.status === 1" label="ÂèñÊ∂àÈ†êÁ¥Ñ" severity="danger"
                        @click="confirmcancelBooking(slotProps.data)" />
                </template>
            </Column>

            <template #empty>
                <div class="flex justify-center">
                    <p>Êü•ÁÑ°Ë≥áÊñô</p>
                </div>
            </template>

            <template #footer>
                ÂÖ±Êúâ {{ filteredBookingList ? filteredBookingList.length : 0 }} Á≠Ü
            </template>
        </DataTable>

        <!-- ÂèñÊ∂àÈ†êÁ¥ÑÂΩàÁ™ó -->
        <Dialog v-model:visible="cancelBookingDialog" :style="{ width: '450px' }" header="Á¢∫Ë™ç" :modal="true"
            :contentStyle="{ fontSize: '18px' }">

            <div class="flex items-center gap-4 ">
                <i class="pi pi-exclamation-triangle !text-3xl" />
                <span v-if="selectedBooking">ÊÇ®Á¢∫ÂÆöË¶ÅÂèñÊ∂à <b class="text-danger">Á∑®Ëôü: {{ selectedBooking.bookingId }}</b>
                    ÁöÑÈ†êÁ¥ÑÂóé?</span>
            </div>

            <div class="booking-time-container">
                <b>È†êÁ¥ÑÊôÇÈñìÔºö</b>
                <span>{{ selectedBooking.bookingDate }}</span>
            </div>

            <template #footer>
                <Button label="ÊòØ" icon="pi pi-check" severity="secondary" @click="cancelBooking(selectedBooking)"
                    :loading="loading" />
                <Button label="Âê¶" icon="pi pi-times" severity="contrast" @click="cancelBookingDialog = false"
                    :loading="loading" />
            </template>
        </Dialog>

        <!-- ËôïÁêÜÈ†êÁ¥ÑÂΩàÁ™ó -->
        <Dialog v-model:visible="processBookingDialog" :style="{ width: '450px' }" header="ËôïÁêÜÈ†êÁ¥ÑÁ¢∫Ë™ç" :modal="true"
            :contentStyle="{ fontSize: '18px' }">
            <div class="flex items-center gap-4">
                <i class="pi pi-question-circle !text-3xl text-warning" />
                <span v-if="selectedBooking">
                    ÊÇ®ÊòØÂê¶ÂêåÊÑè <b class="text-primary">Á∑®Ëôü: {{ selectedBooking.bookingId }}</b> ÁöÑÈ†êÁ¥ÑÔºü
                </span>
            </div>

            <div class="booking-time-container">
                <b>È†êÁ¥ÑÊôÇÈñìÔºö</b>
                <span>{{ selectedBooking.bookingDate }}</span>
            </div>

            <div class="flex justify-between gap-4 mt-4">
                <!-- ÊãíÁµïÊåâÈàï -->
                <Button label="ÊãíÁµï" icon="pi pi-times-circle" severity="danger"
                    @click="processBooking(selectedBooking, false)" style="width: 48%;" :loading="loading" />

                <!-- ÂêåÊÑèÊåâÈàï -->
                <Button label="ÂêåÊÑè" icon="pi pi-check" severity="success" @click="processBooking(selectedBooking, true)"
                    style="width: 48%;" :loading="loading" v-if="selectedBooking.userStatus === 1" />
            </div>
            <template #footer>

                <Button label="ÈóúÈñâ" icon="pi pi-times" severity="contrast" @click="processBookingDialog = false"
                    :loading="loading" />
            </template>
        </Dialog>

        <!-- Êü•ÁúãÊàøÂ±ãË°®ÂñÆÂΩàÁ™ó -->
        <Dialog v-model:visible="showHouseView" :modal="true" :dismissableMask="true" header="Êü•ÁúãÊàøÂ±ãË≥áË®ä"
            class="dialog-theme">
            <div class="dialog-container">
                <HouseView :houseId="selectedHouseId" @close="showHouseView = false" />
            </div>
        </Dialog>

        <!-- Â∞èÂΩàÁ™ó(ÂêêÂè∏) Â•ó‰ª∂-->
        <Toast />

    </div>
</template>

<script setup>
import { ref, onMounted, watch, computed, inject } from 'vue';
import DataTable from 'primevue/datatable';
import Column from 'primevue/column';
import InputText from "primevue/inputtext";
import Toast from 'primevue/toast';
import TabList from 'primevue/tablist';
import Tabs from 'primevue/tabs';
import Tab from 'primevue/tab';
import Dialog from 'primevue/dialog';
import placeholderImage from "@/assets/no-image.png";
import 'primeicons/primeicons.css'
import { Tag } from 'primevue';
import { useToast } from "primevue/usetoast";
import HouseView from "@/View/HouseView.vue";

const BASE_URL = import.meta.env.VITE_APIURL
const TOKEN = localStorage.getItem('jwt');

const bookingList = ref([]);    // ËºâÂÖ•ÁöÑÈ†êÁ¥ÑÂàóË°®
const filteredBookingList = ref([]); // ÈÅéÊøæÂæåÁöÑÈ†êÁ¥ÑÂàóË°®
const activeTab = ref(0); // ÈªòË™ç 0:È°ØÁ§∫ÂÖ®ÈÉ®
const toast = useToast();   //Âè≥‰∏äËßíÊèêÁ§∫Ë¶ñÁ™ó (ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®)
const activePopoverId = ref(null); // Áî®ÊñºËøΩËπ§ÁõÆÂâçÈ°ØÁ§∫ÁöÑ Popover ID
const selectedBooking = ref({}); // ÁõÆÂâçÈÅ∏ÊìáÁöÑÈ†êÁ¥Ñ
const cancelBookingDialog = ref(false);
const processBookingDialog = ref(false);
const loading = ref(false); // ËΩâÂúàÂúà
const showHouseView = ref(false)
const selectedHouseId = ref(null);

// ÊêúÂ∞ãÂäüËÉΩ
const filters = ref({
    global: { value: null, matchMode: "contains" },
});

// Ë®≠ÂÆöÊ¨Ñ‰Ωç ( Â∞çÊáâÂ±¨ÊÄß Ê¨Ñ‰ΩçÂêçÁ®± ÊòØÂê¶ÊéíÂàó Ê¨Ñ‰ΩçÂØ¨Â∫¶ )
const columns = [
    { field: 'photos', header: '', sortable: false, headerStyle: 'width: 10%; ' },
    { field: 'houseTitle', header: 'ÊàøÂ±ãÂêçÁ®±', sortable: false, headerStyle: 'width: 15%; ' },
    { field: 'houseAddress', header: 'ÊàøÂ±ãÂú∞ÂùÄ', sortable: false, headerStyle: 'width: 25%; ' },
    { field: 'userName', header: 'È†êÁ¥Ñ‰∫∫', sortable: false, headerStyle: 'width: 10%; ' },
    { field: 'bookingDate', header: 'È†êÁ¥ÑÊôÇÈñì', sortable: true, headerStyle: 'width: 20%;' },
    { field: 'status', header: 'ÁãÄÊÖã', sortable: false, headerStyle: 'width: 8%; ' },
    { field: 'operate', header: 'Êìç‰Ωú', sortable: false, headerStyle: 'width: 12%; ' }
];

// Ë®≠ÂÆö ÂàÜÈ†ÅÈÅ∏È†Ö
const pageOptions = [5, 10, 20, 50];

// ÁãÄÊÖãÂ∞çÊáâÁöÑÊñáÂ≠ó
const statusMap = {
    0: 'ÂæÖÁ¢∫Ë™ç',//ÂæÖÂ±ã‰∏ªÁ¢∫Ë™ç
    1: 'È†êÁ¥Ñ‰∏≠',//Â±ã‰∏ªÊé•Âèó
    2: 'Â∑≤ÂèñÊ∂à',//Â±ã‰∏ªÊãíÁµï
    3: 'Â∑≤ÂèñÊ∂à',//Â±ã‰∏ªÂèñÊ∂à
    4: 'Â∑≤ÂèñÊ∂à',//ÁßüÂÆ¢ÂèñÊ∂à
    5: 'Êú™ÂõûÊáâ',//ÈÄæÊúü
    6: 'Â∑≤ÂÆåÊàê'
};

// ËºâÂÖ•Êï∏Êìö
const load = async () => {
    loading.value = true;
    try {
        const response = await fetch(`${BASE_URL}/booking/host`, {
            headers: {
                'Content-Type': 'application/json',
                'authorization': `${TOKEN}`,
            },
        });

        if (!response.ok) {
            throw new Error(`ÁãÄÊÖãÁ¢º: ${response.status} ; ${response.statusText}`);
        }

        const data = await response.json();
        console.log('ÊàêÂäüËºâÂÖ•Ë≥áÊñô:', data);
        bookingList.value = data;

        for (const booking of bookingList.value) {
            const houseId = booking.houseId;

            // Áç≤ÂèñÂúñÁâá
            const photosResponse = await fetch(`${BASE_URL}/houses/getPhotos/${houseId}`, {
                headers: {

                    'authorization': `${TOKEN}`,
                },
            });

            if (photosResponse.ok) {
                const photos = await photosResponse.json();

                booking.photos = photos;
            } else {
                throw new Error(`ÁãÄÊÖãÁ¢º: ${photosResponse.status} ; ÁÑ°Ê≥ïÁç≤Âæó houseId=${houseId} ÁöÑÂúñÁâá ;`);
                booking.photos = [];
            }
        }

        useFilter(); // ÈÅéÊøæËºâÂÖ•ÁöÑË≥áÊñô
    } catch (error) {
        console.error('ËºâÂÖ•Â§±ÊïóÔºåÂéüÂõ†:', error.message);
    } finally {
        selectedBooking.value = {}; // Ê∏ÖÁ©∫ÊâÄÈÅ∏È†êÁ¥Ñ
        loading.value = false;
    }
};

// ÈÅéÊøæÊï∏Êìö
const useFilter = () => {
    const list = bookingList.value;
    if (activeTab.value === 0) {
        // È°ØÁ§∫ ÂÖ®ÈÉ®
        filteredBookingList.value = list;
    }
    else if (activeTab.value === 1) {
        // È°ØÁ§∫ ÂæÖÂõûÊáâ
        filteredBookingList.value = list.filter((item) => item.status === 0);
    } else if (activeTab.value === 2) {
        // È°ØÁ§∫ È†êÁ¥Ñ‰∏≠
        filteredBookingList.value = list.filter((item) => item.status === 1);
    } else if (activeTab.value === 3) {
        // È°ØÁ§∫ Â∑≤ÂèñÊ∂à
        filteredBookingList.value = list.filter((item) => item.status === 2 || item.status === 3 || item.status === 4 || item.status === 5);
    } else if (activeTab.value === 4) {
        // È°ØÁ§∫ Â∑≤ÂÆåÊàê
        filteredBookingList.value = list.filter((item) => item.status === 6);
    }
};

// Á¥ÄÈåÑ ÂæÖËôïÁêÜ ÁöÑÊï∏Èáè
const pendingCount = computed(() => {
    return Array.isArray(bookingList.value) ? bookingList.value.filter(booking => booking.status === 0).length : 0;
});

// Á¥ÄÈåÑ Â∑≤È†êÁ¥Ñ ÁöÑÊï∏Èáè
const bookingedCount = computed(() => {
    return Array.isArray(bookingList.value) ? bookingList.value.filter(booking => booking.status === 1).length : 0;
});

// Ê®ôÈ°åÊèõÈ†Å
const onTabChange = (tabValue) => {
    activeTab.value = parseInt(tabValue); // Á¢∫‰øùËΩâÊèõÁÇ∫Êï∏Â≠óÈ°ûÂûã
    useFilter();
};

// ÂàáÊèõÊåáÂÆöË°åÁöÑ Popover ÂèØË¶ãÊÄß
const togglePopover = (bookingId) => {
    activePopoverId.value = activePopoverId.value === bookingId ? null : bookingId;
};

// Á¢∫Ë™ç Popover ÊòØÂê¶È°ØÁ§∫
const isPopoverVisible = (bookingId) => {
    return activePopoverId.value === bookingId;
};

const confirmProcessBooking = (prod) => {
    selectedBooking.value = prod;
    processBookingDialog.value = true;
}

const confirmcancelBooking = (prod) => {
    selectedBooking.value = prod;
    cancelBookingDialog.value = true;
}


const cancelBooking = async (selectedBooking) => {
    loading.value = true;
    try {
        selectedBooking.status = 3;   // ( 3: Â±ã‰∏ªÂèñÊ∂à)

        selectedBooking = convertFormat(selectedBooking); // Â∞á bookingDate ÊãÜÊàê bookingDate bookingTime

        const response = await fetch(`${BASE_URL}/booking/guest`, {
            method: 'put',
            headers: {
                'Content-Type': 'application/json',
                'authorization': `${TOKEN}`,
            },
            body: JSON.stringify(selectedBooking),
        });

        if (!response.ok) {
            throw new Error(`ÁãÄÊÖãÁ¢º: ${response.status} ; ${response.statusText}`);
        }
        const data = await response.json();

        toast.add({ severity: data.status, summary: data.message, life: 4000 });
        load();
    }
    catch (error) {
        console.error('ËºâÂÖ•Â§±ÊïóÔºåÂéüÂõ†:', error.message);
    } finally {
        selectedBooking.value = {}; // Ê∏ÖÁ©∫ÊâÄÈÅ∏È†êÁ¥Ñ
        cancelBookingDialog.value = false;
        loading.value = false;
    }
};


const processBooking = async (selectedBooking, isAgreed) => {
    loading.value = true;
    try {
        selectedBooking = convertFormat(selectedBooking);   // Â∞á bookingDate ÊãÜÊàê bookingDate bookingTime

        selectedBooking.status = isAgreed ? 1 : 2;  // ( 1: Â±ã‰∏ªÊé•Âèó ; 2: Â±ã‰∏ªÊãíÁµï)
        // console.log("Ê∫ñÂÇôÁôºÈÄÅÁöÑË≥áÊñô: ");
        // console.log(selectedBooking);

        const response = await fetch(`${BASE_URL}/booking/host`, {
            method: 'put',
            headers: {
                'Content-Type': 'application/json',
                'authorization': `${TOKEN}`,
            },
            body: JSON.stringify(selectedBooking),
        });

        if (!response.ok) {
            throw new Error(`ÁãÄÊÖãÁ¢º: ${response.status} ; ${response.statusText}`);
        }

        const data = await response.json();

        toast.add({ severity: data.status, summary: data.message, life: 4000 });
        load();
    }
    catch (error) {
        console.error('ËºâÂÖ•Â§±ÊïóÔºåÂéüÂõ†:', error.message);
    }
    finally {
        selectedBooking.value = {}; // Ê∏ÖÁ©∫ÊâÄÈÅ∏È†êÁ¥Ñ
        processBookingDialog.value = false;
        loading.value = false;
    };
}

const refresh = () => {
    load();
    toast.add({ severity: 'success', summary: 'Ë≥áÊñôÊõ¥Êñ∞', life: 2000 });
}

// Â∞áÈ†êÁ¥ÑÁãÄÊÖãËΩâÊàêÊñáÂ≠ó
const getSeverity = (status) => {
    switch (status) {
        case 0:
            return 'info';
        case 1:
            return 'success';
        case 2:
        case 3:
        case 4:
            return 'warn';
        case 5:
            return 'warn';
        case 6:
            return 'secondary';
    }
}

// ËΩâÊàêÂúñÁâá (ÂÉÖÂèñÂæóÁ¨¨‰∏ÄÂºµ, Ê≤íË≥áÊñôÊôÇÊèê‰æõÈ†êË®≠ÂúñÁâá)
const getPhoto = (photos) => {
    return (Array.isArray(photos) && photos.length > 0)
        ? `data:image/jpeg;base64,${photos[0].base64}` : placeholderImage;
};

// Â∞á (yyyy-MM-dd HH:mm:ss) ÊãÜÈñã
const convertFormat = (selectedBooking) => {
    const [datePart, timePart] = selectedBooking.bookingDate.split(' ');
    return {
        ...selectedBooking,
        bookingDate: datePart,  // 'yyyy-MM-dd'
        bookingTime: timePart   // 'HH:mm:ss'
    };
};

// Ë§áË£ΩÂÖßÂÆπ(ÊñáÂ≠ó) *ÁÄèË¶ΩÂô®ÂéüÁîüÁöÑClipboard API 
const copyToClipboard = (text) => {
    navigator.clipboard.writeText(text)
    toast.add({ severity: 'success', summary: 'Â∑≤Ë§áË£Ω', life: 2500 });
}

onMounted(() => {
    load();
});

// Ê∏¨Ë©¶ÊèõÈ†Å
// watch(activeTab, (newValue) => { 
//      console.log("ÈÄôÊòØÊ∏¨Ë©¶ ÊèõÈ†Å: "+newValue);
// })

// Ê∏¨Ë©¶ÊêúÂ∞ã
// watch(filters, () => {
//     console.log("ÈÄôÊòØÊ∏¨Ë©¶ ÊêúÂ∞ã: " + filters.value.global.value)
// }, { deep: true });

// Ê∏¨Ë©¶
// watch(activePopoverId, () => {
//     console.log("ÈÄôÊòØÊ∏¨Ë©¶ : " + activePopoverId.value)
// }, { deep: true });

// Ê∏¨Ë©¶ÈÅ∏ÊìáÁõÆÊ®ô
watch(selectedHouseId, (newValue) => {
    console.log("selectedHouseId");
    console.log(selectedHouseId)
    console.log(newValue)
}, { deep: true });

</script>

<style scoped>
/** ‰∏ªÊ®ôÈ°åÊ¨Ñ‰ΩçÂØ¨Â∫¶ */
.p-tab {
    width: 20%;
    /* 5ÂÄã Tab Âπ≥ÂùáÂàÜÈÖçÔºåÊØèÂÄã‰Ωî 20% */
    text-align: center;
    /* ÊñáÂ≠óÁΩÆ‰∏≠ */
}

/**  È†êÁ¥ÑÊôÇÈñì Ê∑ªÂä†Ê®£Âºè*/
.booking-time-container {
    background-color: #f0f8ff;
    /* Ê∑∫ËóçËâ≤ËÉåÊôØ */
    padding: 10px;
    /* ÂÖßÈÇäË∑ù */
    border-radius: 5px;
    /* ÂúìËßí */
    margin-top: 10px;
    /* È°ØÁ§∫Ë∑ùÈõ¢‰∏äÊñπÊúâÁ©∫Èöô */
    font-weight: bold;
    color: #2a4d7b;
    /* Ê∑±ËóçËâ≤Â≠óÈ´î */
    border: 1px solid #2a4d7b;
    /* Ê∑ªÂä†ÈÇäÊ°Ü */
}

/** Á¢∫Ë™çÁ™ó ÊñáÂ≠óËÉåÊôØËâ≤ */
.booking-time-container span {
    color: #333;
    /* ÊñáÂ≠óÈ°èËâ≤ */
}

/** Ëá™Ë£Ω popover */
.popover-content {
    display: inline-block;
    /* Ëá™ÈÅ©ÊáâÂÖßÂÆπÂØ¨Â∫¶ */
    padding: 20px;
    background-color: #ffffff;
    border-radius: 8px;
    border: 1px solid #ddd;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    position: absolute;
    bottom: 0%;
    /* Ë™øÊï¥ÂΩàÂá∫Ê°Ü‰ΩçÁΩÆ */
    left: 120%;
    z-index: 10;
    white-space: nowrap;
    /* Èò≤Ê≠¢ÊñáÂ≠óÊèõË°å */
}

/** Áî®Êà∂ÂßìÂêç CSS */
.clickable-name {
    cursor: pointer;
    color: #007BFF !important;
    /* !important ÊèêÂçáÂÑ™ÂÖàÁ¥ö */
    text-decoration: none !important;
}

/** ÈªûÊìä Áî®Êà∂ÂßìÂêç CSS*/

.clickable-name.active {
    color: #28a745 !important;
    text-decoration: underline !important;
}

.relative {
    position: relative;
    /* ‰ΩøÂ≠êÂÖÉÁ¥†ÁöÑ absolute ÂÆö‰ΩçÂü∫ÊñºÈÄôÂÄãÂÖÉÁ¥† */
}

/* ÊêúÂ∞ãÊ¨ÑÊ®£Âºè */
.search-bar {
    display: flex;
    align-items: center;
}

.search-icon {
    margin-right: 12px;
}

.search-input {
    width: 300px;
    border: 1px solid #bae6fd;
    border-radius: 5px;
    padding: 8px;
}

/** ÊúÄÂ§ñÂ±§Ê®£Âºè */
.booking-list-container {
    padding: 20px;
    background-color: #f0f9ff;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}
</style>